/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

var Utils;
(function (Utils) {
    function copyStringToClipboard(content) {
        var el = document.createElement('textarea');
        el.value = content;
        el.setAttribute('readonly', '');
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
    }
    Utils.copyStringToClipboard = copyStringToClipboard;
    function removeMd(md, options) {
        options = options || {};
        options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;
        options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;
        options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;
        options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;
        var output = md || '';
        output = output
            .replace(/^---[\s\S]*---\n*/g, "")
            .replace(/\[\[[^\|\[\]]*\|([^\|\[\]]*)\]\]/g, "$1")
            .replace(/\[\[(.*)\]\]/g, "$1")
            .replace(/```([^`])*```\n*/g, "")
            .replace(/\$([^$])*\$*/g, "")
            .replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm, '');
        try {
            if (options.stripListLeaders) {
                if (options.listUnicodeChar)
                    output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, options.listUnicodeChar + ' $1');
                else
                    output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, '$1');
            }
            if (options.gfm) {
                output = output
                    // Header
                    .replace(/\n={2,}/g, '\n')
                    // Fenced codeblocks
                    .replace(/~{3}.*\n/g, '')
                    // Strikethrough
                    .replace(/~~/g, '')
                    // Fenced codeblocks
                    .replace(/`{3}.*\n/g, '');
            }
            output = output
                // Remove HTML tags
                .replace(/<[^>]*>/g, '')
                // Remove setext-style headers
                .replace(/^[=\-]{2,}\s*$/g, '')
                // Remove footnotes?
                .replace(/\[\^.+?\](\: .*?$)?/g, '')
                .replace(/\s{0,2}\[.*?\]: .*?$/g, '')
                // Remove images
                .replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g, options.useImgAltText ? '$1' : '')
                // Remove inline links
                .replace(/\[(.*?)\][\[\(].*?[\]\)]/g, '$1')
                // Remove blockquotes
                .replace(/^\s{0,3}>\s?/g, '')
                // Remove reference-style links?
                .replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g, '')
                // Remove atx-style headers
                .replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm, '$1$2$3')
                // Remove emphasis (repeat the line to remove double emphasis)
                .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
                .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
                // Remove code blocks
                .replace(/(`{3,})(.*?)\1/gm, '$2')
                // Remove inline code
                .replace(/`(.+?)`/g, '$1')
                // Replace two or more newlines with exactly two? Not entirely sure this belongs here...
                .replace(/\n{2,}/g, '\n\n');
        }
        catch (e) {
            console.error(e);
            return md;
        }
        return output;
    }
    Utils.removeMd = removeMd;
})(Utils || (Utils = {}));

var Skills;
(function (Skills) {
    // Returns result of following a command 
    function followCommand(app, command) {
        return __awaiter(this, void 0, void 0, function* () {
            var skillPath = yield matchCommand(app, command);
            console.log('FOLLOWING', command, 'USING', skillPath);
            var result = useSkill(app, skillPath, command);
            return result;
        });
    }
    Skills.followCommand = followCommand;
    // Uses a skill when following a command
    function useSkill(app, skillPath, command) {
        return __awaiter(this, void 0, void 0, function* () {
            var skillContents = yield getSkillContents(app, skillPath);
            var resultPattern = yield getResultPattern(app, skillPath);
            skillContents = removeFrontMatter(skillContents);
            var params = yield getParams(app, skillContents);
            var args = yield getArgs(command, params);
            skillContents = resolveParams(skillContents, params, args);
            var codeBlocks = detectCodeBlocks(skillContents);
            var [splitBlockList, blockTypes] = splitBlocks(skillContents, codeBlocks);
            var [splitBlockList, textSoFar] = yield interpretBlocks(app, splitBlockList, blockTypes);
            var result = resolveResultReferences(splitBlockList, textSoFar, resultPattern);
            var resultParams = yield getParams(app, result);
            var resultArgs = yield getArgs(command, resultParams);
            result = resolveParams(result, resultParams, resultArgs);
            return result;
        });
    }
    Skills.useSkill = useSkill;
    // Walk through blocks and take actions based on them
    function interpretBlocks(app, splitBlocks, blockTypes) {
        return __awaiter(this, void 0, void 0, function* () {
            var newText, textSoFar = "";
            for (let index = 0; index < splitBlocks.length; index++) {
                newText = resolveBodyReferences(splitBlocks, index, textSoFar);
                splitBlocks[index] = newText;
                switch (blockTypes[index]) {
                    case "text":
                        textSoFar = textSoFar.concat(newText);
                        break;
                    case "js":
                        splitBlocks[index] = yield waitEval(app, splitBlocks[index]);
                        textSoFar = textSoFar.concat(splitBlocks[index]);
                        break;
                    case "dual":
                        splitBlocks[index] = yield followCommand(app, newText);
                        textSoFar = textSoFar.concat(splitBlocks[index] + " ");
                }
            }
            return [splitBlocks, textSoFar];
        });
    }
    Skills.interpretBlocks = interpretBlocks;
    // Wait for eval wrapper
    function waitEval(app, toEval) {
        return __awaiter(this, void 0, void 0, function* () {
            return eval(toEval);
        });
    }
    Skills.waitEval = waitEval;
    // Fill in "#N" structures in skill result based on reference code block result
    function resolveResultReferences(splitBlocks, textSoFar, resultPattern) {
        resultPattern = resultPattern.replace("#0", textSoFar);
        for (let referencedCodeBlock = 1; referencedCodeBlock <= 10; referencedCodeBlock++) {
            resultPattern = resultPattern.replace("#" + referencedCodeBlock, splitBlocks[referencedCodeBlock * 2 - 1]);
        }
        return resultPattern;
    }
    Skills.resolveResultReferences = resolveResultReferences;
    // Fill in "#N" structures in skill body based on reference code block result
    function resolveBodyReferences(splitBlocks, reachedIndex, textSoFar) {
        // change numbering scheme to include text blocks?
        var newText = splitBlocks[reachedIndex].trim() + " ";
        newText = newText.replace("#0", textSoFar);
        for (let referencedCodeBlock = 1; referencedCodeBlock <= reachedIndex / 2; referencedCodeBlock++) {
            newText = newText.replace("#" + referencedCodeBlock, splitBlocks[referencedCodeBlock * 2 - 1]);
        }
        return newText;
    }
    Skills.resolveBodyReferences = resolveBodyReferences;
    // Get list of all blocks with type and contents
    function splitBlocks(recipeContents, codeBlocks) {
        var splitBlockList = [recipeContents], blockTypes = ["text"];
        for (let index = 0; index < codeBlocks.length; index++) {
            splitBlockList.push(codeBlocks[index]["contents"]);
            blockTypes.push(codeBlocks[index]["type"]);
            splitBlockList.push(splitBlockList[2 * index].slice(codeBlocks[index]["end"]));
            blockTypes.push("text");
            splitBlockList[2 * index] = splitBlockList[2 * index].slice(0, codeBlocks[index]["start"]);
            for (let indexFuture = index + 1; indexFuture < codeBlocks.length; indexFuture++) {
                codeBlocks[indexFuture]["start"] -= splitBlockList[2 * index].length + codeBlocks[index]["end"] - codeBlocks[index]["start"];
                codeBlocks[indexFuture]["end"] -= splitBlockList[2 * index].length + codeBlocks[index]["end"] - codeBlocks[index]["start"];
            }
        }
        splitBlockList.forEach((val, index, arr) => {
            arr[index] = val.trim() + " ";
        });
        return [splitBlockList, blockTypes];
    }
    Skills.splitBlocks = splitBlocks;
    // Get a list of code blocks with details
    function detectCodeBlocks(recipeContents) {
        var m, res = [], re = RegExp(/\`\`\`(?<type>\w+)(?<contents>(?:\`[^\`]|[^\`])*)\`\`\`/, "g");
        do {
            m = re.exec(recipeContents);
            if (m) {
                res = res.concat({
                    type: m["groups"]["type"],
                    contents: m["groups"]["contents"].trim(),
                    start: m["index"],
                    end: m["index"] + m[0].length
                });
            }
        } while (m);
        return res;
    }
    Skills.detectCodeBlocks = detectCodeBlocks;
    // Get list of parameters mentioned in a skill
    function getParams(app, skillContents) {
        return __awaiter(this, void 0, void 0, function* () {
            var re = /\*[^\*]*\*/g;
            var params = skillContents.match(re);
            if (params != null) {
                params.forEach((val, index, params) => {
                    params[index] = val.substring(1, val.length - 1);
                });
                return params;
            }
            return [];
        });
    }
    Skills.getParams = getParams;
    // Parse arguments from the command
    function getArgs(command, params) {
        return __awaiter(this, void 0, void 0, function* () {
            var args = [], res;
            for (let index = 0; index < params.length; index++) {
                res = yield getArg(command, params[index]);
                args = args.concat(res);
            }
            return args;
        });
    }
    Skills.getArgs = getArgs;
    // Parse one argument from the command
    function getArg(command, param) {
        return __awaiter(this, void 0, void 0, function* () {
            if (param == "quoted content") {
                var argument = RegExp(/"[\s\S]*"/g).exec(command)[0];
                argument = argument.substring(1, argument.length - 1);
                return argument;
            }
            var prompt = getArgPrompt + command + "\n" + param + ": \"";
            console.log(prompt);
            const rawResponse = yield fetch("http://127.0.0.1:5000/generate/", {
                method: "POST",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    prompt: prompt,
                    behavior: "parse_args",
                    pool: command
                }),
            });
            var content = yield rawResponse.json();
            content = content["result"][0];
            content = content.split('"')[0];
            return content;
        });
    }
    Skills.getArg = getArg;
    // Get two parallel lists of command examples and the paths they originate from
    function getExamples(app) {
        var examples = [];
        var paths = [];
        app.vault.getMarkdownFiles().forEach((file) => {
            if (file.path.startsWith("dual-recipes")) {
                app.metadataCache
                    .getFileCache(file)
                    .frontmatter["examples"].forEach((example) => {
                    examples = examples.concat(example);
                    paths = paths.concat(file.path);
                });
            }
        });
        return [examples, paths];
    }
    Skills.getExamples = getExamples;
    // Get contents of a skill at a path
    function getSkillContents(app, skillPath) {
        return __awaiter(this, void 0, void 0, function* () {
            var markdownFiles = app.vault.getMarkdownFiles();
            for (let index = 0; index < markdownFiles.length; index++) {
                if (markdownFiles[index].path == skillPath) {
                    return yield app.vault.cachedRead(markdownFiles[index]);
                }
            }
        });
    }
    Skills.getSkillContents = getSkillContents;
    // Get result pattern of a skill at a path
    function getResultPattern(app, path) {
        return __awaiter(this, void 0, void 0, function* () {
            var markdownFiles = app.vault.getMarkdownFiles();
            for (let index = 0; index < markdownFiles.length; index++) {
                if (markdownFiles[index].path == path) {
                    return app.metadataCache
                        .getFileCache(markdownFiles[index])
                        .frontmatter["output"];
                }
            }
        });
    }
    Skills.getResultPattern = getResultPattern;
    // Find closest skill to a given command through examples
    function matchCommand(app, command) {
        return __awaiter(this, void 0, void 0, function* () {
            command = command.replace(/"[\s\S]*"/, '""');
            var examplePathPairs = getExamples(app);
            var examples = examplePathPairs[0], paths = examplePathPairs[1];
            const rawResponse = yield fetch("http://127.0.0.1:5000/extract/", {
                method: "POST",
                headers: {
                    Accept: "application/json",
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    query: command,
                    documents: examples,
                    selected_candidates: 1,
                }),
            });
            var content = yield rawResponse.json();
            return paths[content["result"][0]];
        });
    }
    Skills.matchCommand = matchCommand;
    // Substitute parameters with arguments in a skill
    function resolveParams(skillContents, params, args) {
        for (let index = 0; index < params.length; index++) {
            var re = RegExp("\\*" + params[index] + "\\*", "g");
            skillContents = skillContents.replace(re, args[index]);
        }
        return skillContents;
    }
    Skills.resolveParams = resolveParams;
    function removeFrontMatter(skillContents) {
        skillContents = skillContents.replace(/---[\s\S]*---/g, "");
        return skillContents.trim();
    }
    Skills.removeFrontMatter = removeFrontMatter;
    function getNotes(app) {
        return __awaiter(this, void 0, void 0, function* () {
            var markdownFiles = app.vault.getMarkdownFiles();
            var notes = [];
            for (let index = 0; index < markdownFiles.length; index++) {
                if (!markdownFiles[index].path.startsWith('dual-recipes')) {
                    var note = yield app.vault.cachedRead(markdownFiles[index]);
                    note = Utils.removeMd(note, {});
                    notes.push(note);
                }
            }
            return notes;
        });
    }
    Skills.getNotes = getNotes;
    const getArgPrompt = `query: Come up with a writing prompt about aliens and robots.
topic: "aliens and robots"

query: Einstein, what is general relativity?
person: "Einstein"

query: Come up with a fitting term for a metaphor which bridges disparate fields.
description: "a metaphor which bridges disparate fields"

query: Write a Python query which reverses the contents of a list.
description: "reverses the contents of a list"

query: How could one operationalize working memory capacity?
concept: "working memory capacity"

query: What specific operations should I perform to model an airplane in Blender?
object: "airplane"

query: How can first-order logic be used in AI?
query: "How can first-order logic be used in AI?"

query: What's the connection between a bridge and a metaphor?
query: "What's the connection between a bridge and a metaphor?"

query: What would be a useful analogy for understanding pupillometry?
concept: "pupillometry"

query: What are some possible applications of brain-computer interfaces?
technology: "brain-computer interfaces"

query: How can I say "sprandel" in Romanian?
language: "Romanian"

query: What's the relation between neuroscience and dynamical systems?
query: "What's the relation between neuroscience and dynamical systems?"

query: How would a school look like in Victorian London?
context: "Victorian London"

query: Translate "Ik ben een olifant" in English
target language: "English"

query: What is the role of genetic material?
query: "What is the role of genetic material?"

query: Come up with a setting for a science fiction book.
genre: "science fiction"

query: What is autonomic arousal?
query: "What is autonomic arousal?"

query: Try to come up with an exercise on thermodynamics.
subject: "thermodynamics"

query: What's the difference between realism and idealism?
query: "What's the difference between realism and idealism?"

query: Come up with a parallel for: neuron, brain.
sequence: "neuron, brain"

query: Darwin, what is the origin of species?
person: "Darwin"

query: Blue is to color as circle is to...
query: "Blue is to color as circle is to..."

query: What is the meaning of life?
query: "What is the meaning of life?"

query: Mix the concepts brain and science
first concept: "brain"

query: How can we build artificial general intelligence?
query: "How can we build artificial general intelligence?"

query: Isaac Asimov, come up with a writing prompt about space exploration.
person: "Isaac Asimov"

query: Why is consciousness a thing?
query: "Why is consciousness a thing?"

query: A bowl is to a soup as
query: "A bowl is to a soup as"

query: How can a conversational interface be used?
query: "How can a conversational interface be used?"

query: Merge the concepts human and chaos.
second concept: "chaos"

query: How can version control help
query: "How can version control help?"

query: A tree is to a bark as a person is to...
query: "A tree is to a bark as a person is to..."

query: Come up with an analogy for: sun, planet, solar system
sequence: "sun, planet, solar system"

query: Look for notes about pupillometry.
topic: "pupillometry"

query: Combine the concepts computer and virus.
second concept: "virus"

query: What is evolution?
query: "What is evolution?"

query: Come up with a fitting term for an indicator of robot cuteness
description: "an indicator of robot cuteness"

query: What's the connection between the brain and a stadium?
query: "What's the connection between the brain and a stadium?" 

query: `;
})(Skills || (Skills = {}));

class ChatView extends obsidian.ItemView {
    constructor(leaf, customName) {
        super(leaf);
        this.customName = "";
        this.customName = customName;
    }
    getViewType() {
        return "chat";
    }
    getDisplayText() {
        return "Dual";
    }
    getIcon() {
        return "info";
    }
    sendMessage() {
        let input = document.getElementById("dual-input-box");
        let replied = false;
        if (input.value != "") {
            this.drawMessage(input.value, "right");
            new Promise((resolve) => setTimeout(resolve, 3000)).then(() => {
                if (replied == false) {
                    this.setStatus("typing...");
                }
            });
            Skills.followCommand(this.app, input.value).then((response) => {
                response.split("\n\n").forEach((res) => {
                    this.drawMessage(res, "left");
                });
                replied = true;
                this.setStatus("online");
            });
            input.value = "";
        }
    }
    makeRequest(query) {
        return __awaiter(this, void 0, void 0, function* () {
            const response = yield fetch("http://127.0.0.1:5000/query/" + encodeURIComponent(query));
            const responseJSON = yield response.json();
            return responseJSON;
        });
    }
    load() {
        super.load();
        this.draw();
    }
    draw() {
        const container = this.containerEl.children[1];
        const rootEl = document.createElement("div");
        const headerDiv = rootEl.createDiv({ cls: "nav-header" });
        const footerDiv = rootEl.createDiv({ cls: "nav-header" });
        let header = headerDiv.createEl("h3");
        header.appendText(this.customName);
        header.style.textAlign = "left";
        header.style.marginTop = "0px";
        header.style.marginBottom = "0px";
        header.style.position = "absolute";
        header.style.top = "15px";
        let status = headerDiv.createEl("h6");
        status.id = "status";
        status.appendText("online");
        status.style.textAlign = "left";
        status.style.marginTop = "0px";
        status.style.marginBottom = "5px";
        status.style.color = "grey";
        let conversationDiv = headerDiv.createDiv({ cls: "nav-header" });
        conversationDiv.id = "conversationDiv";
        conversationDiv.style.padding = "0";
        conversationDiv.style.backgroundColor = "var(--background-secondary-alt)";
        conversationDiv.style.position = "absolute";
        conversationDiv.style.left = "0";
        conversationDiv.style.width = "100%";
        conversationDiv.style.paddingLeft = "10px";
        conversationDiv.style.paddingRight = "10px";
        conversationDiv.style.overflowY = "scroll";
        conversationDiv.style.height = "calc(100% - 110px)";
        let input = footerDiv.createEl("input");
        input.id = "dual-input-box";
        input.type = "text";
        input.style.fontSize = "0.8em";
        input.style.paddingInlineStart = "2%";
        input.style.paddingInlineEnd = "2%";
        input.style.marginTop = "0px";
        input.style.marginBottom = "10px";
        input.style.maxWidth = "68%";
        input.style.minWidth = "68%";
        input.style.position = "absolute";
        input.style.bottom = "0";
        input.style.left = "5%";
        let button = footerDiv.createEl("button");
        button.appendText("Send");
        button.id = "send-button";
        button.style.alignItems = "left";
        button.style.paddingInlineStart = "2%";
        button.style.paddingInlineEnd = "2%";
        button.style.marginTop = "0px";
        button.style.marginBottom = "10px";
        button.style.width = "20%";
        button.style.position = "absolute";
        button.style.bottom = "0";
        button.style.left = "75%";
        this.registerDomEvent(button, "click", () => this.sendMessage());
        this.registerDomEvent(input, "keydown", (event) => {
            if (event.key == "Enter") {
                this.sendMessage();
            }
        });
        container.empty();
        container.appendChild(rootEl);
    }
    drawMessage(content, side) {
        let conversationDiv = (document.getElementById("conversationDiv"));
        let p = conversationDiv.createEl("p");
        p.appendText(content);
        p.style.userSelect = "text";
        p.style.textAlign = "left";
        p.style.fontSize = "0.8em";
        p.style.borderRadius = "5px";
        p.style.lineHeight = "18px";
        p.style.padding = "5px";
        if (side == "right") {
            p.style.backgroundColor = "var(--background-primary)";
        }
        else {
            p.style.backgroundColor = "var(--background-secondary)";
        }
        p.style.width = "90%";
        p.style.position = "relative";
        if (side == "right") {
            p.style.left = "10%";
        }
        conversationDiv.scrollBy(0, 1000);
    }
    setStatus(content) {
        let statusP = document.getElementById("status");
        statusP.setText(content);
    }
}

const DEFAULT_SETTINGS = {
    customName: "Dual",
};
class MyPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            this.registerView("chat", (leaf) => {
                return new ChatView(leaf, this.settings.customName);
            });
            this.app.workspace.layoutReady && this.initLeaf(this.app.workspace);
            this.registerEvent(this.app.workspace.on("layout-ready", () => this.initLeaf(this.app.workspace)));
            this.addSettingTab(new SampleSettingTab(this.app, this));
            this.addCommand({
                id: "focus-dual-input",
                name: "Focus Dual input box",
                callback: () => {
                    document.getElementById("dual-input-box").focus();
                },
            });
        });
    }
    initLeaf(workspace) {
        if (workspace.getLeavesOfType("chat").length == 0) {
            workspace.getRightLeaf(false).setViewState({
                type: "chat",
            });
        }
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}
class SampleSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.app = app;
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl("h3", {
            text: "Follow these instructions to set up your Dual:",
        });
        new obsidian.Setting(containerEl)
            .setName("RECIPE TEST")
            .setDesc("Press the button to head over to the download page.")
            .addButton((cb) => cb
            .setButtonText("TEST")
            .setClass("mod-cta")
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            console.log(yield Skills.getArg("I was thing about this lately quite a lot. Where does life come from, Mr. Dawkins?", "technology"));
        })));
        new obsidian.Setting(containerEl)
            .setName("0. Install Python (3.8+).")
            .setDesc("Press the button to head over to the download page.")
            .addButton((cb) => cb
            .setButtonText("Install Python")
            .setClass("mod-cta")
            .onClick(() => {
            window.open("https://www.python.org/downloads/");
        }));
        new obsidian.Setting(containerEl)
            .setName("1. Copy snapshot.")
            .setDesc("Press the button to copy the entire vault as concatenated plain text.")
            .addButton((cb) => cb
            .setButtonText("Copy snapshot")
            .setClass("mod-cta")
            .onClick(() => {
            new obsidian.Notice("Loading files...");
            let concatenated = "";
            this.app.vault.getMarkdownFiles().forEach((element) => {
                this.app.vault.cachedRead(element).then((res) => {
                    res = res
                        .replace(/^---[\s\S]*---\n*/g, "")
                        .replace(/\[\[[^\|\[\]]*\|([^\|\[\]]*)\]\]/g, "$1")
                        .replace(/\[\[(.*)\]\]/g, "$1")
                        .replace(/```([^`])*```\n*/g, "")
                        .replace(/\$([^$])*\$*/g, "");
                    concatenated = concatenated.concat(res, "\n\n");
                });
            });
            new Promise((resolve) => setTimeout(resolve, 3000)).then(() => {
                concatenated = concatenated.slice(0, 5000000);
                concatenated = Utils.removeMd(concatenated, {});
                Utils.copyStringToClipboard(concatenated);
                new obsidian.Notice("Snapshot successfully copied to clipboard!");
            });
        }));
        new obsidian.Setting(containerEl)
            .setName("2. Derive the essence.")
            .setDesc("After following the online instructions, extract 'essence.zip' in '.obsidian/plugins/Dual/'.")
            .addButton((cb) => cb
            .setButtonText("Start alignment")
            .setClass("mod-cta")
            .onClick(() => {
            window.open("https://colab.research.google.com/drive/1CObehan5gmYO-TvyyYq973a3h-_EYr9_?usp=sharing");
        }));
        new obsidian.Setting(containerEl)
            .setName("3. Configure the skeleton.")
            .setDesc("Run 'python3 -m pip install -r requirements.txt' in '.obsidian/plugins/Dual/skeleton/'.");
        new obsidian.Setting(containerEl)
            .setName("4. Run the skeleton after you configured the essence.")
            .setDesc("Run 'python3 server.py --path /path/to/your/vault/' in '.obsidian/plugins/Dual/skeleton/'.");
        new obsidian.Setting(containerEl)
            .setName("5. Restart Obsidian.")
            .setDesc("Head over to the right side panel to talk with your Dual!");
        containerEl.createEl("h3", {
            text: "Congratulations on setting up your Dual!",
        });
        new obsidian.Setting(containerEl)
            .setName("Custom name")
            .setDesc("Customize your Dual's name using the input box. Reload Obsidian for this to take effect.")
            .addText((text) => text
            .setPlaceholder("Dual")
            .setValue("")
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.customName = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName("Get involved!")
            .addButton((cb) => cb
            .setButtonText("Report bugs")
            .setClass("mod-cta")
            .onClick(() => {
            window.open("https://github.com/Psionica/Dual/issues");
        }))
            .addButton((cb) => cb
            .setButtonText("Join Psionica")
            .setClass("mod-cta")
            .onClick(() => {
            window.open("https://psionica.org/");
        }));
    }
}

module.exports = MyPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInV0aWxzLnRzIiwic2tpbGxzLnRzIiwidmlldy50cyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxyXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcclxuICAgIHJldHVybiB0bztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiZXhwb3J0IG1vZHVsZSBVdGlscyB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNvcHlTdHJpbmdUb0NsaXBib2FyZCAoY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgICAgIGVsLnZhbHVlID0gY29udGVudDtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIGVsLnNlbGVjdCgpO1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlTWQobWQ6IHN0cmluZywgb3B0aW9uczogYW55KSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmxpc3RVbmljb2RlQ2hhciA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xpc3RVbmljb2RlQ2hhcicpID8gb3B0aW9ucy5saXN0VW5pY29kZUNoYXIgOiBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc3RyaXBMaXN0TGVhZGVycycpID8gb3B0aW9ucy5zdHJpcExpc3RMZWFkZXJzIDogdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy5nZm0gPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdnZm0nKSA/IG9wdGlvbnMuZ2ZtIDogdHJ1ZTtcbiAgICAgICAgb3B0aW9ucy51c2VJbWdBbHRUZXh0ID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgndXNlSW1nQWx0VGV4dCcpID8gb3B0aW9ucy51c2VJbWdBbHRUZXh0IDogdHJ1ZTtcbiAgICBcbiAgICAgICAgdmFyIG91dHB1dCA9IG1kIHx8ICcnO1xuICAgICAgICBvdXRwdXQgPSBvdXRwdXRcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eLS0tW1xcc1xcU10qLS0tXFxuKi9nLCBcIlwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1xcW1teXFx8XFxbXFxdXSpcXHwoW15cXHxcXFtcXF1dKilcXF1cXF0vZywgXCIkMVwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1xcWyguKilcXF1cXF0vZywgXCIkMVwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL2BgYChbXmBdKSpgYGBcXG4qL2csIFwiXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwkKFteJF0pKlxcJCovZywgXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eKC1cXHMqP3xcXCpcXHMqP3xfXFxzKj8pezMsfVxccyokL2dtLCAnJylcbiAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaXBMaXN0TGVhZGVycykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGlzdFVuaWNvZGVDaGFyKVxuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL14oW1xcc1xcdF0qKShbXFwqXFwtXFwrXXxcXGQrXFwuKVxccysvZ20sIG9wdGlvbnMubGlzdFVuaWNvZGVDaGFyICsgJyAkMScpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL14oW1xcc1xcdF0qKShbXFwqXFwtXFwrXXxcXGQrXFwuKVxccysvZ20sICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmdmbSkge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0XG4gICAgICAgICAgICAvLyBIZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG49ezIsfS9nLCAnXFxuJylcbiAgICAgICAgICAgIC8vIEZlbmNlZCBjb2RlYmxvY2tzXG4gICAgICAgICAgICAucmVwbGFjZSgvfnszfS4qXFxuL2csICcnKVxuICAgICAgICAgICAgLy8gU3RyaWtldGhyb3VnaFxuICAgICAgICAgICAgLnJlcGxhY2UoL35+L2csICcnKVxuICAgICAgICAgICAgLy8gRmVuY2VkIGNvZGVibG9ja3NcbiAgICAgICAgICAgIC5yZXBsYWNlKC9gezN9LipcXG4vZywgJycpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dCA9IG91dHB1dFxuICAgICAgICAgICAgLy8gUmVtb3ZlIEhUTUwgdGFnc1xuICAgICAgICAgICAgLnJlcGxhY2UoLzxbXj5dKj4vZywgJycpXG4gICAgICAgICAgICAvLyBSZW1vdmUgc2V0ZXh0LXN0eWxlIGhlYWRlcnNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eWz1cXC1dezIsfVxccyokL2csICcnKVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZvb3Rub3Rlcz9cbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFtcXF4uKz9cXF0oXFw6IC4qPyQpPy9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHN7MCwyfVxcWy4qP1xcXTogLio/JC9nLCAnJylcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbWFnZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCFcXFsoLio/KVxcXVtcXFtcXChdLio/W1xcXVxcKV0vZywgb3B0aW9ucy51c2VJbWdBbHRUZXh0ID8gJyQxJyA6ICcnKVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGlubGluZSBsaW5rc1xuICAgICAgICAgICAgLnJlcGxhY2UoL1xcWyguKj8pXFxdW1xcW1xcKF0uKj9bXFxdXFwpXS9nLCAnJDEnKVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGJsb2NrcXVvdGVzXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxcc3swLDN9Plxccz8vZywgJycpXG4gICAgICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlLXN0eWxlIGxpbmtzP1xuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHN7MSwyfVxcWyguKj8pXFxdOiAoXFxTKykoIFwiLio/XCIpP1xccyokL2csICcnKVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGF0eC1zdHlsZSBoZWFkZXJzXG4gICAgICAgICAgICAucmVwbGFjZSgvXihcXG4pP1xcc3swLH0jezEsNn1cXHMrfCB7MCx9KFxcbik/XFxzezAsfSN7MCx9IHswLH0oXFxuKT9cXHN7MCx9JC9nbSwgJyQxJDIkMycpXG4gICAgICAgICAgICAvLyBSZW1vdmUgZW1waGFzaXMgKHJlcGVhdCB0aGUgbGluZSB0byByZW1vdmUgZG91YmxlIGVtcGhhc2lzKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXFwqX117MSwzfSkoXFxTLio/XFxTezAsMX0pXFwxL2csICckMicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFtcXCpfXXsxLDN9KShcXFMuKj9cXFN7MCwxfSlcXDEvZywgJyQyJylcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjb2RlIGJsb2Nrc1xuICAgICAgICAgICAgLnJlcGxhY2UoLyhgezMsfSkoLio/KVxcMS9nbSwgJyQyJylcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpbmxpbmUgY29kZVxuICAgICAgICAgICAgLnJlcGxhY2UoL2AoLis/KWAvZywgJyQxJylcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdHdvIG9yIG1vcmUgbmV3bGluZXMgd2l0aCBleGFjdGx5IHR3bz8gTm90IGVudGlyZWx5IHN1cmUgdGhpcyBiZWxvbmdzIGhlcmUuLi5cbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG57Mix9L2csICdcXG5cXG4nKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgcmV0dXJuIG1kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJ1dGlsc1wiO1xuXG5leHBvcnQgbW9kdWxlIFNraWxscyB7XG5cbiAgLy8gUmV0dXJucyByZXN1bHQgb2YgZm9sbG93aW5nIGEgY29tbWFuZCBcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZvbGxvd0NvbW1hbmQoYXBwOiBBcHAsIGNvbW1hbmQ6IHN0cmluZykge1xuICAgIHZhciBza2lsbFBhdGggPSBhd2FpdCBtYXRjaENvbW1hbmQoYXBwLCBjb21tYW5kKTtcbiAgICBjb25zb2xlLmxvZygnRk9MTE9XSU5HJywgY29tbWFuZCwgJ1VTSU5HJywgc2tpbGxQYXRoKTtcbiAgICB2YXIgcmVzdWx0ID0gdXNlU2tpbGwoYXBwLCBza2lsbFBhdGgsIGNvbW1hbmQpO1xuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gVXNlcyBhIHNraWxsIHdoZW4gZm9sbG93aW5nIGEgY29tbWFuZFxuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gdXNlU2tpbGwoYXBwOiBBcHAsIHNraWxsUGF0aDogc3RyaW5nLCBjb21tYW5kOiBzdHJpbmcpIHtcbiAgICB2YXIgc2tpbGxDb250ZW50czogc3RyaW5nID0gYXdhaXQgZ2V0U2tpbGxDb250ZW50cyhhcHAsIHNraWxsUGF0aCk7XG4gICAgdmFyIHJlc3VsdFBhdHRlcm46IHN0cmluZyA9IGF3YWl0IGdldFJlc3VsdFBhdHRlcm4oYXBwLCBza2lsbFBhdGgpO1xuICAgIHNraWxsQ29udGVudHMgPSByZW1vdmVGcm9udE1hdHRlcihza2lsbENvbnRlbnRzKVxuXG4gICAgdmFyIHBhcmFtczogc3RyaW5nW10gPSBhd2FpdCBnZXRQYXJhbXMoYXBwLCBza2lsbENvbnRlbnRzKTtcbiAgICB2YXIgYXJnczogc3RyaW5nW10gPSBhd2FpdCBnZXRBcmdzKGNvbW1hbmQsIHBhcmFtcyk7XG4gICAgc2tpbGxDb250ZW50cyA9IHJlc29sdmVQYXJhbXMoc2tpbGxDb250ZW50cywgcGFyYW1zLCBhcmdzKTtcblxuICAgIHZhciBjb2RlQmxvY2tzID0gZGV0ZWN0Q29kZUJsb2Nrcyhza2lsbENvbnRlbnRzKVxuICAgIHZhciBbc3BsaXRCbG9ja0xpc3QsIGJsb2NrVHlwZXNdID0gc3BsaXRCbG9ja3Moc2tpbGxDb250ZW50cywgY29kZUJsb2NrcylcbiAgICB2YXIgW3NwbGl0QmxvY2tMaXN0LCB0ZXh0U29GYXJdID0gYXdhaXQgaW50ZXJwcmV0QmxvY2tzKGFwcCwgc3BsaXRCbG9ja0xpc3QsIGJsb2NrVHlwZXMpXG4gICAgXG4gICAgdmFyIHJlc3VsdCA9IHJlc29sdmVSZXN1bHRSZWZlcmVuY2VzKHNwbGl0QmxvY2tMaXN0LCB0ZXh0U29GYXIsIHJlc3VsdFBhdHRlcm4pXG4gICAgdmFyIHJlc3VsdFBhcmFtczogc3RyaW5nW10gPSBhd2FpdCBnZXRQYXJhbXMoYXBwLCByZXN1bHQpO1xuICAgIHZhciByZXN1bHRBcmdzOiBzdHJpbmdbXSA9IGF3YWl0IGdldEFyZ3MoY29tbWFuZCwgcmVzdWx0UGFyYW1zKTtcbiAgICByZXN1bHQgPSByZXNvbHZlUGFyYW1zKHJlc3VsdCwgcmVzdWx0UGFyYW1zLCByZXN1bHRBcmdzKTtcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIFdhbGsgdGhyb3VnaCBibG9ja3MgYW5kIHRha2UgYWN0aW9ucyBiYXNlZCBvbiB0aGVtXG4gIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnRlcnByZXRCbG9ja3MoYXBwOiBBcHAsIHNwbGl0QmxvY2tzOiBzdHJpbmdbXSwgYmxvY2tUeXBlczogc3RyaW5nW10pOiBQcm9taXNlPFtzdHJpbmdbXSwgc3RyaW5nXT4ge1xuICAgIHZhciBuZXdUZXh0LCB0ZXh0U29GYXI6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgc3BsaXRCbG9ja3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBuZXdUZXh0ID0gcmVzb2x2ZUJvZHlSZWZlcmVuY2VzKHNwbGl0QmxvY2tzLCBpbmRleCwgdGV4dFNvRmFyKVxuICAgICAgc3BsaXRCbG9ja3NbaW5kZXhdID0gbmV3VGV4dFxuICAgICAgXG4gICAgICBzd2l0Y2ggKGJsb2NrVHlwZXNbaW5kZXhdKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgdGV4dFNvRmFyID0gdGV4dFNvRmFyLmNvbmNhdChuZXdUZXh0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImpzXCI6XG4gICAgICAgICAgc3BsaXRCbG9ja3NbaW5kZXhdID0gYXdhaXQgd2FpdEV2YWwoYXBwLCBzcGxpdEJsb2Nrc1tpbmRleF0pO1xuICAgICAgICAgIHRleHRTb0ZhciA9IHRleHRTb0Zhci5jb25jYXQoc3BsaXRCbG9ja3NbaW5kZXhdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImR1YWxcIjpcbiAgICAgICAgICBzcGxpdEJsb2Nrc1tpbmRleF0gPSBhd2FpdCBmb2xsb3dDb21tYW5kKGFwcCwgbmV3VGV4dCk7XG4gICAgICAgICAgdGV4dFNvRmFyID0gdGV4dFNvRmFyLmNvbmNhdChzcGxpdEJsb2Nrc1tpbmRleF0gKyBcIiBcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFtzcGxpdEJsb2NrcywgdGV4dFNvRmFyXTtcbiAgfVxuXG4gIC8vIFdhaXQgZm9yIGV2YWwgd3JhcHBlclxuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEV2YWwoYXBwOiBBcHAsIHRvRXZhbDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gZXZhbCh0b0V2YWwpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gXCIjTlwiIHN0cnVjdHVyZXMgaW4gc2tpbGwgcmVzdWx0IGJhc2VkIG9uIHJlZmVyZW5jZSBjb2RlIGJsb2NrIHJlc3VsdFxuICBleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJlc3VsdFJlZmVyZW5jZXMoc3BsaXRCbG9ja3M6IHN0cmluZ1tdLCB0ZXh0U29GYXI6IHN0cmluZywgcmVzdWx0UGF0dGVybjogc3RyaW5nKSB7XG4gICAgcmVzdWx0UGF0dGVybiA9IHJlc3VsdFBhdHRlcm4ucmVwbGFjZShcIiMwXCIsIHRleHRTb0ZhcilcblxuICAgIGZvciAobGV0IHJlZmVyZW5jZWRDb2RlQmxvY2sgPSAxOyByZWZlcmVuY2VkQ29kZUJsb2NrIDw9IDEwOyByZWZlcmVuY2VkQ29kZUJsb2NrKyspIHtcbiAgICAgIHJlc3VsdFBhdHRlcm4gPSByZXN1bHRQYXR0ZXJuLnJlcGxhY2UoXCIjXCIgKyByZWZlcmVuY2VkQ29kZUJsb2NrLCBzcGxpdEJsb2Nrc1tyZWZlcmVuY2VkQ29kZUJsb2NrICogMiAtIDFdKVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRQYXR0ZXJuO1xuICB9XG5cbiAgLy8gRmlsbCBpbiBcIiNOXCIgc3RydWN0dXJlcyBpbiBza2lsbCBib2R5IGJhc2VkIG9uIHJlZmVyZW5jZSBjb2RlIGJsb2NrIHJlc3VsdFxuICBleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUJvZHlSZWZlcmVuY2VzKHNwbGl0QmxvY2tzOiBzdHJpbmdbXSwgcmVhY2hlZEluZGV4OiBudW1iZXIsIHRleHRTb0Zhcjogc3RyaW5nKSB7XG4gICAgLy8gY2hhbmdlIG51bWJlcmluZyBzY2hlbWUgdG8gaW5jbHVkZSB0ZXh0IGJsb2Nrcz9cbiAgICB2YXIgbmV3VGV4dCA9IHNwbGl0QmxvY2tzW3JlYWNoZWRJbmRleF0udHJpbSgpICsgXCIgXCI7XG4gICAgbmV3VGV4dCA9IG5ld1RleHQucmVwbGFjZShcIiMwXCIsIHRleHRTb0ZhcilcblxuICAgIGZvciAobGV0IHJlZmVyZW5jZWRDb2RlQmxvY2sgPSAxOyByZWZlcmVuY2VkQ29kZUJsb2NrIDw9IHJlYWNoZWRJbmRleCAvIDI7IHJlZmVyZW5jZWRDb2RlQmxvY2srKykge1xuICAgICAgbmV3VGV4dCA9IG5ld1RleHQucmVwbGFjZShcIiNcIiArIHJlZmVyZW5jZWRDb2RlQmxvY2ssIHNwbGl0QmxvY2tzW3JlZmVyZW5jZWRDb2RlQmxvY2sgKiAyIC0gMV0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1RleHQ7XG4gIH1cblxuICAvLyBHZXQgbGlzdCBvZiBhbGwgYmxvY2tzIHdpdGggdHlwZSBhbmQgY29udGVudHNcbiAgZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QmxvY2tzKHJlY2lwZUNvbnRlbnRzOiBzdHJpbmcsIGNvZGVCbG9ja3M6IFtjb2RlQmxvY2s6IHtcInR5cGVcIjogc3RyaW5nLCBcImNvbnRlbnRzXCI6IHN0cmluZywgXCJzdGFydFwiOiBudW1iZXIsIFwiZW5kXCI6IG51bWJlcn1dKSB7XG4gICAgdmFyIHNwbGl0QmxvY2tMaXN0ID0gW3JlY2lwZUNvbnRlbnRzXSwgYmxvY2tUeXBlcyA9IFtcInRleHRcIl07XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29kZUJsb2Nrcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHNwbGl0QmxvY2tMaXN0LnB1c2goY29kZUJsb2Nrc1tpbmRleF1bXCJjb250ZW50c1wiXSlcbiAgICAgIGJsb2NrVHlwZXMucHVzaChjb2RlQmxvY2tzW2luZGV4XVtcInR5cGVcIl0pXG5cbiAgICAgIHNwbGl0QmxvY2tMaXN0LnB1c2goc3BsaXRCbG9ja0xpc3RbMiAqIGluZGV4XS5zbGljZShjb2RlQmxvY2tzW2luZGV4XVtcImVuZFwiXSkpXG4gICAgICBibG9ja1R5cGVzLnB1c2goXCJ0ZXh0XCIpXG5cbiAgICAgIHNwbGl0QmxvY2tMaXN0WzIgKiBpbmRleF0gPSBzcGxpdEJsb2NrTGlzdFsyICogaW5kZXhdLnNsaWNlKDAsIGNvZGVCbG9ja3NbaW5kZXhdW1wic3RhcnRcIl0pXG5cbiAgICAgIGZvciAobGV0IGluZGV4RnV0dXJlID0gaW5kZXggKyAxOyBpbmRleEZ1dHVyZSA8IGNvZGVCbG9ja3MubGVuZ3RoOyBpbmRleEZ1dHVyZSsrKSB7XG4gICAgICAgIGNvZGVCbG9ja3NbaW5kZXhGdXR1cmVdW1wic3RhcnRcIl0gLT0gc3BsaXRCbG9ja0xpc3RbMiAqIGluZGV4XS5sZW5ndGggKyBjb2RlQmxvY2tzW2luZGV4XVtcImVuZFwiXSAtIGNvZGVCbG9ja3NbaW5kZXhdW1wic3RhcnRcIl07XG4gICAgICAgIGNvZGVCbG9ja3NbaW5kZXhGdXR1cmVdW1wiZW5kXCJdIC09IHNwbGl0QmxvY2tMaXN0WzIgKiBpbmRleF0ubGVuZ3RoICsgY29kZUJsb2Nrc1tpbmRleF1bXCJlbmRcIl0gLSBjb2RlQmxvY2tzW2luZGV4XVtcInN0YXJ0XCJdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNwbGl0QmxvY2tMaXN0LmZvckVhY2goKHZhbCwgaW5kZXgsIGFycikgPT4ge1xuICAgICAgYXJyW2luZGV4XSA9IHZhbC50cmltKCkgKyBcIiBcIjtcbiAgICB9KVxuXG4gICAgcmV0dXJuIFtzcGxpdEJsb2NrTGlzdCwgYmxvY2tUeXBlc11cbiAgfVxuXG4gIC8vIEdldCBhIGxpc3Qgb2YgY29kZSBibG9ja3Mgd2l0aCBkZXRhaWxzXG4gIGV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDb2RlQmxvY2tzKHJlY2lwZUNvbnRlbnRzOiBzdHJpbmcpIHtcbiAgICB2YXIgbSwgcmVzOiBhbnkgPSBbXSwgcmUgPSBSZWdFeHAoL1xcYFxcYFxcYCg/PHR5cGU+XFx3KykoPzxjb250ZW50cz4oPzpcXGBbXlxcYF18W15cXGBdKSopXFxgXFxgXFxgLywgXCJnXCIpXG5cbiAgICBkbyB7XG4gICAgICAgIG0gPSByZS5leGVjKHJlY2lwZUNvbnRlbnRzKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQoe1xuICAgICAgICAgICAgICAgIHR5cGU6IG1bXCJncm91cHNcIl1bXCJ0eXBlXCJdLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRzOiBtW1wiZ3JvdXBzXCJdW1wiY29udGVudHNcIl0udHJpbSgpLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBtW1wiaW5kZXhcIl0sXG4gICAgICAgICAgICAgICAgZW5kOiBtW1wiaW5kZXhcIl0gKyBtWzBdLmxlbmd0aFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKG0pO1xuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8vIEdldCBsaXN0IG9mIHBhcmFtZXRlcnMgbWVudGlvbmVkIGluIGEgc2tpbGxcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBhcmFtcyhhcHA6IEFwcCwgc2tpbGxDb250ZW50czogc3RyaW5nKSB7XG4gICAgdmFyIHJlID0gL1xcKlteXFwqXSpcXCovZztcbiAgICB2YXIgcGFyYW1zID0gc2tpbGxDb250ZW50cy5tYXRjaChyZSk7XG5cbiAgICBpZiAocGFyYW1zICE9IG51bGwpIHtcbiAgICAgIHBhcmFtcy5mb3JFYWNoKCh2YWwsIGluZGV4LCBwYXJhbXMpID0+IHtcbiAgICAgICAgcGFyYW1zW2luZGV4XSA9IHZhbC5zdWJzdHJpbmcoMSwgdmFsLmxlbmd0aCAtIDEpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICAvLyBQYXJzZSBhcmd1bWVudHMgZnJvbSB0aGUgY29tbWFuZFxuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXJncyhcbiAgICBjb21tYW5kOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBzdHJpbmdbXVxuICApIHtcbiAgICB2YXIgYXJnczogc3RyaW5nW10gPSBbXSwgcmVzO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhcmFtcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlcyA9IGF3YWl0IGdldEFyZyhjb21tYW5kLCBwYXJhbXNbaW5kZXhdKTtcbiAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChyZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBhcmdzO1xuICB9XG5cbiAgLy8gUGFyc2Ugb25lIGFyZ3VtZW50IGZyb20gdGhlIGNvbW1hbmRcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFyZyhjb21tYW5kOiBzdHJpbmcsIHBhcmFtOiBzdHJpbmcpIHtcbiAgICBpZiAocGFyYW0gPT0gXCJxdW90ZWQgY29udGVudFwiKSB7XG4gICAgICB2YXIgYXJndW1lbnQgPSBSZWdFeHAoL1wiW1xcc1xcU10qXCIvZykuZXhlYyhjb21tYW5kKVswXVxuICAgICAgYXJndW1lbnQgPSBhcmd1bWVudC5zdWJzdHJpbmcoMSwgYXJndW1lbnQubGVuZ3RoIC0gMSlcbiAgICAgIHJldHVybiBhcmd1bWVudFxuICAgIH1cblxuICAgIHZhciBwcm9tcHQ6IHN0cmluZyA9IGdldEFyZ1Byb21wdCArIGNvbW1hbmQgKyBcIlxcblwiICsgcGFyYW0gKyBcIjogXFxcIlwiO1xuICAgIGNvbnNvbGUubG9nKHByb21wdClcblxuICAgIGNvbnN0IHJhd1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvZ2VuZXJhdGUvXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0OiBwcm9tcHQsXG4gICAgICAgIGJlaGF2aW9yOiBcInBhcnNlX2FyZ3NcIixcbiAgICAgICAgcG9vbDogY29tbWFuZFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICB2YXIgY29udGVudCA9IGF3YWl0IHJhd1Jlc3BvbnNlLmpzb24oKTtcbiAgICBjb250ZW50ID0gY29udGVudFtcInJlc3VsdFwiXVswXTtcbiAgICBjb250ZW50ID0gY29udGVudC5zcGxpdCgnXCInKVswXTtcbiAgICBcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIC8vIEdldCB0d28gcGFyYWxsZWwgbGlzdHMgb2YgY29tbWFuZCBleGFtcGxlcyBhbmQgdGhlIHBhdGhzIHRoZXkgb3JpZ2luYXRlIGZyb21cbiAgZXhwb3J0IGZ1bmN0aW9uIGdldEV4YW1wbGVzKGFwcDogQXBwKSB7XG4gICAgdmFyIGV4YW1wbGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHZhciBwYXRoczogc3RyaW5nW10gPSBbXTtcblxuICAgIGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgaWYgKGZpbGUucGF0aC5zdGFydHNXaXRoKFwiZHVhbC1yZWNpcGVzXCIpKSB7XG4gICAgICAgIGFwcC5tZXRhZGF0YUNhY2hlXG4gICAgICAgICAgLmdldEZpbGVDYWNoZShmaWxlKVxuICAgICAgICAgIC5mcm9udG1hdHRlcltcImV4YW1wbGVzXCJdLmZvckVhY2goKGV4YW1wbGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgZXhhbXBsZXMgPSBleGFtcGxlcy5jb25jYXQoZXhhbXBsZSk7XG4gICAgICAgICAgICBwYXRocyA9IHBhdGhzLmNvbmNhdChmaWxlLnBhdGgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtleGFtcGxlcywgcGF0aHNdO1xuICB9XG5cbiAgLy8gR2V0IGNvbnRlbnRzIG9mIGEgc2tpbGwgYXQgYSBwYXRoXG4gIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTa2lsbENvbnRlbnRzKGFwcDogQXBwLCBza2lsbFBhdGg6IHN0cmluZykge1xuICAgIHZhciBtYXJrZG93bkZpbGVzID0gYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtYXJrZG93bkZpbGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKG1hcmtkb3duRmlsZXNbaW5kZXhdLnBhdGggPT0gc2tpbGxQYXRoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBhcHAudmF1bHQuY2FjaGVkUmVhZChtYXJrZG93bkZpbGVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHJlc3VsdCBwYXR0ZXJuIG9mIGEgc2tpbGwgYXQgYSBwYXRoXG4gIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXN1bHRQYXR0ZXJuKGFwcDogQXBwLCBwYXRoOiBzdHJpbmcpIHtcbiAgICB2YXIgbWFya2Rvd25GaWxlcyA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbWFya2Rvd25GaWxlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmIChtYXJrZG93bkZpbGVzW2luZGV4XS5wYXRoID09IHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGFwcC5tZXRhZGF0YUNhY2hlXG4gICAgICAgICAgLmdldEZpbGVDYWNoZShtYXJrZG93bkZpbGVzW2luZGV4XSlcbiAgICAgICAgICAuZnJvbnRtYXR0ZXJbXCJvdXRwdXRcIl1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIGNsb3Nlc3Qgc2tpbGwgdG8gYSBnaXZlbiBjb21tYW5kIHRocm91Z2ggZXhhbXBsZXNcbiAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hdGNoQ29tbWFuZChhcHA6IEFwcCwgY29tbWFuZDogc3RyaW5nKSB7XG4gICAgY29tbWFuZCA9IGNvbW1hbmQucmVwbGFjZSgvXCJbXFxzXFxTXSpcIi8sICdcIlwiJylcbiAgICB2YXIgZXhhbXBsZVBhdGhQYWlycyA9IGdldEV4YW1wbGVzKGFwcCk7XG4gICAgdmFyIGV4YW1wbGVzID0gZXhhbXBsZVBhdGhQYWlyc1swXSxcbiAgICAgIHBhdGhzID0gZXhhbXBsZVBhdGhQYWlyc1sxXTtcblxuICAgIGNvbnN0IHJhd1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvZXh0cmFjdC9cIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBxdWVyeTogY29tbWFuZCxcbiAgICAgICAgZG9jdW1lbnRzOiBleGFtcGxlcyxcbiAgICAgICAgc2VsZWN0ZWRfY2FuZGlkYXRlczogMSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgdmFyIGNvbnRlbnQgPSBhd2FpdCByYXdSZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHBhdGhzW2NvbnRlbnRbXCJyZXN1bHRcIl1bMF1dO1xuICB9XG5cbiAgLy8gU3Vic3RpdHV0ZSBwYXJhbWV0ZXJzIHdpdGggYXJndW1lbnRzIGluIGEgc2tpbGxcbiAgZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJhbXMoc2tpbGxDb250ZW50czogc3RyaW5nLCBwYXJhbXM6IHN0cmluZ1tdLCBhcmdzOiBzdHJpbmdbXSkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXJhbXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciByZSA9IFJlZ0V4cChcIlxcXFwqXCIgKyBwYXJhbXNbaW5kZXhdICsgXCJcXFxcKlwiLCBcImdcIilcbiAgICAgICAgc2tpbGxDb250ZW50cyA9IHNraWxsQ29udGVudHMucmVwbGFjZShyZSwgYXJnc1tpbmRleF0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHNraWxsQ29udGVudHNcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9udE1hdHRlcihza2lsbENvbnRlbnRzOiBzdHJpbmcpIHtcbiAgICBza2lsbENvbnRlbnRzID0gc2tpbGxDb250ZW50cy5yZXBsYWNlKC8tLS1bXFxzXFxTXSotLS0vZywgXCJcIilcbiAgICByZXR1cm4gc2tpbGxDb250ZW50cy50cmltKCkgXG4gIH1cblxuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90ZXMoYXBwOiBBcHApIHtcbiAgICB2YXIgbWFya2Rvd25GaWxlcyA9IGFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgdmFyIG5vdGVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1hcmtkb3duRmlsZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoIW1hcmtkb3duRmlsZXNbaW5kZXhdLnBhdGguc3RhcnRzV2l0aCgnZHVhbC1yZWNpcGVzJykpIHtcbiAgICAgICAgdmFyIG5vdGUgPSBhd2FpdCBhcHAudmF1bHQuY2FjaGVkUmVhZChtYXJrZG93bkZpbGVzW2luZGV4XSk7XG4gICAgICAgIG5vdGUgPSBVdGlscy5yZW1vdmVNZChub3RlLCB7fSk7XG4gICAgICAgIG5vdGVzLnB1c2gobm90ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vdGVzXG4gIH1cblxuICBjb25zdCBnZXRBcmdQcm9tcHQ6IHN0cmluZyA9IGBxdWVyeTogQ29tZSB1cCB3aXRoIGEgd3JpdGluZyBwcm9tcHQgYWJvdXQgYWxpZW5zIGFuZCByb2JvdHMuXG50b3BpYzogXCJhbGllbnMgYW5kIHJvYm90c1wiXG5cbnF1ZXJ5OiBFaW5zdGVpbiwgd2hhdCBpcyBnZW5lcmFsIHJlbGF0aXZpdHk/XG5wZXJzb246IFwiRWluc3RlaW5cIlxuXG5xdWVyeTogQ29tZSB1cCB3aXRoIGEgZml0dGluZyB0ZXJtIGZvciBhIG1ldGFwaG9yIHdoaWNoIGJyaWRnZXMgZGlzcGFyYXRlIGZpZWxkcy5cbmRlc2NyaXB0aW9uOiBcImEgbWV0YXBob3Igd2hpY2ggYnJpZGdlcyBkaXNwYXJhdGUgZmllbGRzXCJcblxucXVlcnk6IFdyaXRlIGEgUHl0aG9uIHF1ZXJ5IHdoaWNoIHJldmVyc2VzIHRoZSBjb250ZW50cyBvZiBhIGxpc3QuXG5kZXNjcmlwdGlvbjogXCJyZXZlcnNlcyB0aGUgY29udGVudHMgb2YgYSBsaXN0XCJcblxucXVlcnk6IEhvdyBjb3VsZCBvbmUgb3BlcmF0aW9uYWxpemUgd29ya2luZyBtZW1vcnkgY2FwYWNpdHk/XG5jb25jZXB0OiBcIndvcmtpbmcgbWVtb3J5IGNhcGFjaXR5XCJcblxucXVlcnk6IFdoYXQgc3BlY2lmaWMgb3BlcmF0aW9ucyBzaG91bGQgSSBwZXJmb3JtIHRvIG1vZGVsIGFuIGFpcnBsYW5lIGluIEJsZW5kZXI/XG5vYmplY3Q6IFwiYWlycGxhbmVcIlxuXG5xdWVyeTogSG93IGNhbiBmaXJzdC1vcmRlciBsb2dpYyBiZSB1c2VkIGluIEFJP1xucXVlcnk6IFwiSG93IGNhbiBmaXJzdC1vcmRlciBsb2dpYyBiZSB1c2VkIGluIEFJP1wiXG5cbnF1ZXJ5OiBXaGF0J3MgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiBhIGJyaWRnZSBhbmQgYSBtZXRhcGhvcj9cbnF1ZXJ5OiBcIldoYXQncyB0aGUgY29ubmVjdGlvbiBiZXR3ZWVuIGEgYnJpZGdlIGFuZCBhIG1ldGFwaG9yP1wiXG5cbnF1ZXJ5OiBXaGF0IHdvdWxkIGJlIGEgdXNlZnVsIGFuYWxvZ3kgZm9yIHVuZGVyc3RhbmRpbmcgcHVwaWxsb21ldHJ5P1xuY29uY2VwdDogXCJwdXBpbGxvbWV0cnlcIlxuXG5xdWVyeTogV2hhdCBhcmUgc29tZSBwb3NzaWJsZSBhcHBsaWNhdGlvbnMgb2YgYnJhaW4tY29tcHV0ZXIgaW50ZXJmYWNlcz9cbnRlY2hub2xvZ3k6IFwiYnJhaW4tY29tcHV0ZXIgaW50ZXJmYWNlc1wiXG5cbnF1ZXJ5OiBIb3cgY2FuIEkgc2F5IFwic3ByYW5kZWxcIiBpbiBSb21hbmlhbj9cbmxhbmd1YWdlOiBcIlJvbWFuaWFuXCJcblxucXVlcnk6IFdoYXQncyB0aGUgcmVsYXRpb24gYmV0d2VlbiBuZXVyb3NjaWVuY2UgYW5kIGR5bmFtaWNhbCBzeXN0ZW1zP1xucXVlcnk6IFwiV2hhdCdzIHRoZSByZWxhdGlvbiBiZXR3ZWVuIG5ldXJvc2NpZW5jZSBhbmQgZHluYW1pY2FsIHN5c3RlbXM/XCJcblxucXVlcnk6IEhvdyB3b3VsZCBhIHNjaG9vbCBsb29rIGxpa2UgaW4gVmljdG9yaWFuIExvbmRvbj9cbmNvbnRleHQ6IFwiVmljdG9yaWFuIExvbmRvblwiXG5cbnF1ZXJ5OiBUcmFuc2xhdGUgXCJJayBiZW4gZWVuIG9saWZhbnRcIiBpbiBFbmdsaXNoXG50YXJnZXQgbGFuZ3VhZ2U6IFwiRW5nbGlzaFwiXG5cbnF1ZXJ5OiBXaGF0IGlzIHRoZSByb2xlIG9mIGdlbmV0aWMgbWF0ZXJpYWw/XG5xdWVyeTogXCJXaGF0IGlzIHRoZSByb2xlIG9mIGdlbmV0aWMgbWF0ZXJpYWw/XCJcblxucXVlcnk6IENvbWUgdXAgd2l0aCBhIHNldHRpbmcgZm9yIGEgc2NpZW5jZSBmaWN0aW9uIGJvb2suXG5nZW5yZTogXCJzY2llbmNlIGZpY3Rpb25cIlxuXG5xdWVyeTogV2hhdCBpcyBhdXRvbm9taWMgYXJvdXNhbD9cbnF1ZXJ5OiBcIldoYXQgaXMgYXV0b25vbWljIGFyb3VzYWw/XCJcblxucXVlcnk6IFRyeSB0byBjb21lIHVwIHdpdGggYW4gZXhlcmNpc2Ugb24gdGhlcm1vZHluYW1pY3MuXG5zdWJqZWN0OiBcInRoZXJtb2R5bmFtaWNzXCJcblxucXVlcnk6IFdoYXQncyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHJlYWxpc20gYW5kIGlkZWFsaXNtP1xucXVlcnk6IFwiV2hhdCdzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcmVhbGlzbSBhbmQgaWRlYWxpc20/XCJcblxucXVlcnk6IENvbWUgdXAgd2l0aCBhIHBhcmFsbGVsIGZvcjogbmV1cm9uLCBicmFpbi5cbnNlcXVlbmNlOiBcIm5ldXJvbiwgYnJhaW5cIlxuXG5xdWVyeTogRGFyd2luLCB3aGF0IGlzIHRoZSBvcmlnaW4gb2Ygc3BlY2llcz9cbnBlcnNvbjogXCJEYXJ3aW5cIlxuXG5xdWVyeTogQmx1ZSBpcyB0byBjb2xvciBhcyBjaXJjbGUgaXMgdG8uLi5cbnF1ZXJ5OiBcIkJsdWUgaXMgdG8gY29sb3IgYXMgY2lyY2xlIGlzIHRvLi4uXCJcblxucXVlcnk6IFdoYXQgaXMgdGhlIG1lYW5pbmcgb2YgbGlmZT9cbnF1ZXJ5OiBcIldoYXQgaXMgdGhlIG1lYW5pbmcgb2YgbGlmZT9cIlxuXG5xdWVyeTogTWl4IHRoZSBjb25jZXB0cyBicmFpbiBhbmQgc2NpZW5jZVxuZmlyc3QgY29uY2VwdDogXCJicmFpblwiXG5cbnF1ZXJ5OiBIb3cgY2FuIHdlIGJ1aWxkIGFydGlmaWNpYWwgZ2VuZXJhbCBpbnRlbGxpZ2VuY2U/XG5xdWVyeTogXCJIb3cgY2FuIHdlIGJ1aWxkIGFydGlmaWNpYWwgZ2VuZXJhbCBpbnRlbGxpZ2VuY2U/XCJcblxucXVlcnk6IElzYWFjIEFzaW1vdiwgY29tZSB1cCB3aXRoIGEgd3JpdGluZyBwcm9tcHQgYWJvdXQgc3BhY2UgZXhwbG9yYXRpb24uXG5wZXJzb246IFwiSXNhYWMgQXNpbW92XCJcblxucXVlcnk6IFdoeSBpcyBjb25zY2lvdXNuZXNzIGEgdGhpbmc/XG5xdWVyeTogXCJXaHkgaXMgY29uc2Npb3VzbmVzcyBhIHRoaW5nP1wiXG5cbnF1ZXJ5OiBBIGJvd2wgaXMgdG8gYSBzb3VwIGFzXG5xdWVyeTogXCJBIGJvd2wgaXMgdG8gYSBzb3VwIGFzXCJcblxucXVlcnk6IEhvdyBjYW4gYSBjb252ZXJzYXRpb25hbCBpbnRlcmZhY2UgYmUgdXNlZD9cbnF1ZXJ5OiBcIkhvdyBjYW4gYSBjb252ZXJzYXRpb25hbCBpbnRlcmZhY2UgYmUgdXNlZD9cIlxuXG5xdWVyeTogTWVyZ2UgdGhlIGNvbmNlcHRzIGh1bWFuIGFuZCBjaGFvcy5cbnNlY29uZCBjb25jZXB0OiBcImNoYW9zXCJcblxucXVlcnk6IEhvdyBjYW4gdmVyc2lvbiBjb250cm9sIGhlbHBcbnF1ZXJ5OiBcIkhvdyBjYW4gdmVyc2lvbiBjb250cm9sIGhlbHA/XCJcblxucXVlcnk6IEEgdHJlZSBpcyB0byBhIGJhcmsgYXMgYSBwZXJzb24gaXMgdG8uLi5cbnF1ZXJ5OiBcIkEgdHJlZSBpcyB0byBhIGJhcmsgYXMgYSBwZXJzb24gaXMgdG8uLi5cIlxuXG5xdWVyeTogQ29tZSB1cCB3aXRoIGFuIGFuYWxvZ3kgZm9yOiBzdW4sIHBsYW5ldCwgc29sYXIgc3lzdGVtXG5zZXF1ZW5jZTogXCJzdW4sIHBsYW5ldCwgc29sYXIgc3lzdGVtXCJcblxucXVlcnk6IExvb2sgZm9yIG5vdGVzIGFib3V0IHB1cGlsbG9tZXRyeS5cbnRvcGljOiBcInB1cGlsbG9tZXRyeVwiXG5cbnF1ZXJ5OiBDb21iaW5lIHRoZSBjb25jZXB0cyBjb21wdXRlciBhbmQgdmlydXMuXG5zZWNvbmQgY29uY2VwdDogXCJ2aXJ1c1wiXG5cbnF1ZXJ5OiBXaGF0IGlzIGV2b2x1dGlvbj9cbnF1ZXJ5OiBcIldoYXQgaXMgZXZvbHV0aW9uP1wiXG5cbnF1ZXJ5OiBDb21lIHVwIHdpdGggYSBmaXR0aW5nIHRlcm0gZm9yIGFuIGluZGljYXRvciBvZiByb2JvdCBjdXRlbmVzc1xuZGVzY3JpcHRpb246IFwiYW4gaW5kaWNhdG9yIG9mIHJvYm90IGN1dGVuZXNzXCJcblxucXVlcnk6IFdoYXQncyB0aGUgY29ubmVjdGlvbiBiZXR3ZWVuIHRoZSBicmFpbiBhbmQgYSBzdGFkaXVtP1xucXVlcnk6IFwiV2hhdCdzIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIGJyYWluIGFuZCBhIHN0YWRpdW0/XCIgXG5cbnF1ZXJ5OiBgO1xufSIsImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UsIFRleHRBcmVhQ29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTa2lsbHMgfSBmcm9tIFwic2tpbGxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXRWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBjdXN0b21OYW1lID0gXCJcIjtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBjdXN0b21OYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLmN1c3RvbU5hbWUgPSBjdXN0b21OYW1lO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJjaGF0XCI7XG4gIH1cblxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIkR1YWxcIjtcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJpbmZvXCI7XG4gIH1cblxuICBzZW5kTWVzc2FnZSgpOiB2b2lkIHtcbiAgICBsZXQgaW5wdXQgPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1YWwtaW5wdXQtYm94XCIpO1xuICAgIGxldCByZXBsaWVkID0gZmFsc2U7XG5cbiAgICBpZiAoaW5wdXQudmFsdWUgIT0gXCJcIikge1xuICAgICAgdGhpcy5kcmF3TWVzc2FnZShpbnB1dC52YWx1ZSwgXCJyaWdodFwiKTtcblxuICAgICAgbGV0IHR5cGluZ1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cbiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAzMDAwKVxuICAgICAgKS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKHJlcGxpZWQgPT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXR1cyhcInR5cGluZy4uLlwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIFNraWxscy5mb2xsb3dDb21tYW5kKHRoaXMuYXBwLCBpbnB1dC52YWx1ZSkudGhlbigocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICByZXNwb25zZS5zcGxpdChcIlxcblxcblwiKS5mb3JFYWNoKChyZXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHRoaXMuZHJhd01lc3NhZ2UocmVzLCBcImxlZnRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcGxpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyhcIm9ubGluZVwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbWFrZVJlcXVlc3QocXVlcnk6IHN0cmluZyk6IFByb21pc2U8SlNPTj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBcImh0dHA6Ly8xMjcuMC4wLjE6NTAwMC9xdWVyeS9cIiArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSlcbiAgICApO1xuICAgIGNvbnN0IHJlc3BvbnNlSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzcG9uc2VKU09OO1xuICB9XG5cbiAgbG9hZCgpOiB2b2lkIHtcbiAgICBzdXBlci5sb2FkKCk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXcoKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblxuICAgIGNvbnN0IHJvb3RFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBjb25zdCBoZWFkZXJEaXYgPSByb290RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm5hdi1oZWFkZXJcIiB9KTtcbiAgICBjb25zdCBmb290ZXJEaXYgPSByb290RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm5hdi1oZWFkZXJcIiB9KTtcblxuICAgIGxldCBoZWFkZXIgPSBoZWFkZXJEaXYuY3JlYXRlRWwoXCJoM1wiKTtcbiAgICBoZWFkZXIuYXBwZW5kVGV4dCh0aGlzLmN1c3RvbU5hbWUpO1xuICAgIGhlYWRlci5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBoZWFkZXIuc3R5bGUubWFyZ2luVG9wID0gXCIwcHhcIjtcbiAgICBoZWFkZXIuc3R5bGUubWFyZ2luQm90dG9tID0gXCIwcHhcIjtcbiAgICBoZWFkZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgaGVhZGVyLnN0eWxlLnRvcCA9IFwiMTVweFwiO1xuXG4gICAgbGV0IHN0YXR1cyA9IGhlYWRlckRpdi5jcmVhdGVFbChcImg2XCIpO1xuICAgIHN0YXR1cy5pZCA9IFwic3RhdHVzXCI7XG4gICAgc3RhdHVzLmFwcGVuZFRleHQoXCJvbmxpbmVcIik7XG4gICAgc3RhdHVzLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIHN0YXR1cy5zdHlsZS5tYXJnaW5Ub3AgPSBcIjBweFwiO1xuICAgIHN0YXR1cy5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjVweFwiO1xuICAgIHN0YXR1cy5zdHlsZS5jb2xvciA9IFwiZ3JleVwiO1xuXG4gICAgbGV0IGNvbnZlcnNhdGlvbkRpdiA9IGhlYWRlckRpdi5jcmVhdGVEaXYoeyBjbHM6IFwibmF2LWhlYWRlclwiIH0pO1xuICAgIGNvbnZlcnNhdGlvbkRpdi5pZCA9IFwiY29udmVyc2F0aW9uRGl2XCI7XG4gICAgY29udmVyc2F0aW9uRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcbiAgICBjb252ZXJzYXRpb25EaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1hbHQpXCI7XG4gICAgY29udmVyc2F0aW9uRGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnZlcnNhdGlvbkRpdi5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgY29udmVyc2F0aW9uRGl2LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgY29udmVyc2F0aW9uRGl2LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIxMHB4XCI7XG4gICAgY29udmVyc2F0aW9uRGl2LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiMTBweFwiO1xuICAgIGNvbnZlcnNhdGlvbkRpdi5zdHlsZS5vdmVyZmxvd1kgPSBcInNjcm9sbFwiO1xuICAgIGNvbnZlcnNhdGlvbkRpdi5zdHlsZS5oZWlnaHQgPSBcImNhbGMoMTAwJSAtIDExMHB4KVwiO1xuXG4gICAgbGV0IGlucHV0ID0gZm9vdGVyRGl2LmNyZWF0ZUVsKFwiaW5wdXRcIik7XG4gICAgaW5wdXQuaWQgPSBcImR1YWwtaW5wdXQtYm94XCI7XG4gICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgIGlucHV0LnN0eWxlLmZvbnRTaXplID0gXCIwLjhlbVwiO1xuICAgIGlucHV0LnN0eWxlLnBhZGRpbmdJbmxpbmVTdGFydCA9IFwiMiVcIjtcbiAgICBpbnB1dC5zdHlsZS5wYWRkaW5nSW5saW5lRW5kID0gXCIyJVwiO1xuICAgIGlucHV0LnN0eWxlLm1hcmdpblRvcCA9IFwiMHB4XCI7XG4gICAgaW5wdXQuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxMHB4XCI7XG4gICAgaW5wdXQuc3R5bGUubWF4V2lkdGggPSBcIjY4JVwiO1xuICAgIGlucHV0LnN0eWxlLm1pbldpZHRoID0gXCI2OCVcIjtcbiAgICBpbnB1dC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBpbnB1dC5zdHlsZS5ib3R0b20gPSBcIjBcIjtcbiAgICBpbnB1dC5zdHlsZS5sZWZ0ID0gXCI1JVwiO1xuXG4gICAgbGV0IGJ1dHRvbiA9IGZvb3RlckRpdi5jcmVhdGVFbChcImJ1dHRvblwiKTtcbiAgICBidXR0b24uYXBwZW5kVGV4dChcIlNlbmRcIik7XG4gICAgYnV0dG9uLmlkID0gXCJzZW5kLWJ1dHRvblwiO1xuICAgIGJ1dHRvbi5zdHlsZS5hbGlnbkl0ZW1zID0gXCJsZWZ0XCI7XG4gICAgYnV0dG9uLnN0eWxlLnBhZGRpbmdJbmxpbmVTdGFydCA9IFwiMiVcIjtcbiAgICBidXR0b24uc3R5bGUucGFkZGluZ0lubGluZUVuZCA9IFwiMiVcIjtcbiAgICBidXR0b24uc3R5bGUubWFyZ2luVG9wID0gXCIwcHhcIjtcbiAgICBidXR0b24uc3R5bGUubWFyZ2luQm90dG9tID0gXCIxMHB4XCI7XG4gICAgYnV0dG9uLnN0eWxlLndpZHRoID0gXCIyMCVcIjtcbiAgICBidXR0b24uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgYnV0dG9uLnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xuICAgIGJ1dHRvbi5zdHlsZS5sZWZ0ID0gXCI3NSVcIjtcblxuICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChidXR0b24sIFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5zZW5kTWVzc2FnZSgpKTtcbiAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoaW5wdXQsIFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT0gXCJFbnRlclwiKSB7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyb290RWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3TWVzc2FnZShjb250ZW50OiBzdHJpbmcsIHNpZGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBjb252ZXJzYXRpb25EaXYgPSA8SFRNTERpdkVsZW1lbnQ+KFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb252ZXJzYXRpb25EaXZcIilcbiAgICApO1xuICAgIGxldCBwID0gY29udmVyc2F0aW9uRGl2LmNyZWF0ZUVsKFwicFwiKTtcbiAgICBwLmFwcGVuZFRleHQoY29udGVudCk7XG4gICAgcC5zdHlsZS51c2VyU2VsZWN0ID0gXCJ0ZXh0XCI7XG4gICAgcC5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBwLnN0eWxlLmZvbnRTaXplID0gXCIwLjhlbVwiO1xuICAgIHAuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcbiAgICBwLnN0eWxlLmxpbmVIZWlnaHQgPSBcIjE4cHhcIjtcbiAgICBwLnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xuXG4gICAgaWYgKHNpZGUgPT0gXCJyaWdodFwiKSB7XG4gICAgICBwLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBwLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXCI7XG4gICAgfVxuXG4gICAgcC5zdHlsZS53aWR0aCA9IFwiOTAlXCI7XG4gICAgcC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblxuICAgIGlmIChzaWRlID09IFwicmlnaHRcIikge1xuICAgICAgcC5zdHlsZS5sZWZ0ID0gXCIxMCVcIjtcbiAgICB9XG5cbiAgICBjb252ZXJzYXRpb25EaXYuc2Nyb2xsQnkoMCwgMTAwMCk7XG4gIH1cblxuICBwcml2YXRlIHNldFN0YXR1cyhjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgc3RhdHVzUCA9IDxIVE1MUGFyYWdyYXBoRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXR1c1wiKTtcbiAgICBzdGF0dXNQLnNldFRleHQoY29udGVudCk7XG4gIH1cbn1cbiIsImltcG9ydCB7XHJcbiAgQXBwLFxyXG4gIE5vdGljZSxcclxuICBQbHVnaW4sXHJcbiAgUGx1Z2luU2V0dGluZ1RhYixcclxuICBTZXR0aW5nLFxyXG4gIFdvcmtzcGFjZSxcclxufSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IENoYXRWaWV3IGZyb20gXCJ2aWV3XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcInV0aWxzXCI7XHJcbmltcG9ydCB7IFNraWxscyB9IGZyb20gXCJza2lsbHNcIjtcclxuXHJcbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcclxuICBjdXN0b21OYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XHJcbiAgY3VzdG9tTmFtZTogXCJEdWFsXCIsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgc2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3M7XHJcblxyXG4gIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXCJjaGF0XCIsIChsZWFmKSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgQ2hhdFZpZXcobGVhZiwgdGhpcy5zZXR0aW5ncy5jdXN0b21OYW1lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5sYXlvdXRSZWFkeSAmJiB0aGlzLmluaXRMZWFmKHRoaXMuYXBwLndvcmtzcGFjZSk7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImxheW91dC1yZWFkeVwiLCAoKSA9PlxyXG4gICAgICAgIHRoaXMuaW5pdExlYWYodGhpcy5hcHAud29ya3NwYWNlKVxyXG4gICAgICApXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2FtcGxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiBcImZvY3VzLWR1YWwtaW5wdXRcIixcclxuICAgICAgbmFtZTogXCJGb2N1cyBEdWFsIGlucHV0IGJveFwiLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVhbC1pbnB1dC1ib3hcIikuZm9jdXMoKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaW5pdExlYWYod29ya3NwYWNlOiBXb3Jrc3BhY2UpOiB2b2lkIHtcclxuICAgIGlmICh3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwiY2hhdFwiKS5sZW5ndGggPT0gMCkge1xyXG4gICAgICB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKS5zZXRWaWV3U3RhdGUoe1xyXG4gICAgICAgIHR5cGU6IFwiY2hhdFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFNhbXBsZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICBwbHVnaW46IE15UGx1Z2luO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNeVBsdWdpbikge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICB9XHJcblxyXG4gIGRpc3BsYXkoKTogdm9pZCB7XHJcbiAgICBsZXQgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwge1xyXG4gICAgICB0ZXh0OiBcIkZvbGxvdyB0aGVzZSBpbnN0cnVjdGlvbnMgdG8gc2V0IHVwIHlvdXIgRHVhbDpcIixcclxuICAgIH0pO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgLnNldE5hbWUoXCJSRUNJUEUgVEVTVFwiKVxyXG4gICAgLnNldERlc2MoXCJQcmVzcyB0aGUgYnV0dG9uIHRvIGhlYWQgb3ZlciB0byB0aGUgZG93bmxvYWQgcGFnZS5cIilcclxuICAgIC5hZGRCdXR0b24oKGNiKSA9PlxyXG4gICAgICBjYlxyXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KFwiVEVTVFwiKVxyXG4gICAgICAgIC5zZXRDbGFzcyhcIm1vZC1jdGFcIilcclxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhhd2FpdCBTa2lsbHMuZ2V0QXJnKFwiSSB3YXMgdGhpbmcgYWJvdXQgdGhpcyBsYXRlbHkgcXVpdGUgYSBsb3QuIFdoZXJlIGRvZXMgbGlmZSBjb21lIGZyb20sIE1yLiBEYXdraW5zP1wiLCBcInRlY2hub2xvZ3lcIikpXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKFwiMC4gSW5zdGFsbCBQeXRob24gKDMuOCspLlwiKVxyXG4gICAgICAuc2V0RGVzYyhcIlByZXNzIHRoZSBidXR0b24gdG8gaGVhZCBvdmVyIHRvIHRoZSBkb3dubG9hZCBwYWdlLlwiKVxyXG4gICAgICAuYWRkQnV0dG9uKChjYikgPT5cclxuICAgICAgICBjYlxyXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJJbnN0YWxsIFB5dGhvblwiKVxyXG4gICAgICAgICAgLnNldENsYXNzKFwibW9kLWN0YVwiKVxyXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LnB5dGhvbi5vcmcvZG93bmxvYWRzL1wiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKFwiMS4gQ29weSBzbmFwc2hvdC5cIilcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgXCJQcmVzcyB0aGUgYnV0dG9uIHRvIGNvcHkgdGhlIGVudGlyZSB2YXVsdCBhcyBjb25jYXRlbmF0ZWQgcGxhaW4gdGV4dC5cIlxyXG4gICAgICApXHJcbiAgICAgIC5hZGRCdXR0b24oKGNiKSA9PlxyXG4gICAgICAgIGNiXHJcbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIkNvcHkgc25hcHNob3RcIilcclxuICAgICAgICAgIC5zZXRDbGFzcyhcIm1vZC1jdGFcIilcclxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShcIkxvYWRpbmcgZmlsZXMuLi5cIik7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29uY2F0ZW5hdGVkID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZChlbGVtZW50KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IHJlc1xyXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXi0tLVtcXHNcXFNdKi0tLVxcbiovZywgXCJcIilcclxuICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcW1xcW1teXFx8XFxbXFxdXSpcXHwoW15cXHxcXFtcXF1dKilcXF1cXF0vZywgXCIkMVwiKVxyXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxbXFxbKC4qKVxcXVxcXS9nLCBcIiQxXCIpXHJcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9gYGAoW15gXSkqYGBgXFxuKi9nLCBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwkKFteJF0pKlxcJCovZywgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uY2F0ZW5hdGVkID0gY29uY2F0ZW5hdGVkLmNvbmNhdChyZXMsIFwiXFxuXFxuXCIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb3B5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwMClcclxuICAgICAgICAgICAgKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25jYXRlbmF0ZWQgPSBjb25jYXRlbmF0ZWQuc2xpY2UoMCwgNTAwMDAwMCk7XHJcbiAgICAgICAgICAgICAgY29uY2F0ZW5hdGVkID0gVXRpbHMucmVtb3ZlTWQoY29uY2F0ZW5hdGVkLCB7fSk7XHJcbiAgICAgICAgICAgICAgVXRpbHMuY29weVN0cmluZ1RvQ2xpcGJvYXJkKGNvbmNhdGVuYXRlZCk7XHJcbiAgICAgICAgICAgICAgbmV3IE5vdGljZShcIlNuYXBzaG90IHN1Y2Nlc3NmdWxseSBjb3BpZWQgdG8gY2xpcGJvYXJkIVwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZShcIjIuIERlcml2ZSB0aGUgZXNzZW5jZS5cIilcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgXCJBZnRlciBmb2xsb3dpbmcgdGhlIG9ubGluZSBpbnN0cnVjdGlvbnMsIGV4dHJhY3QgJ2Vzc2VuY2UuemlwJyBpbiAnLm9ic2lkaWFuL3BsdWdpbnMvRHVhbC8nLlwiXHJcbiAgICAgIClcclxuICAgICAgLmFkZEJ1dHRvbigoY2IpID0+XHJcbiAgICAgICAgY2JcclxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiU3RhcnQgYWxpZ25tZW50XCIpXHJcbiAgICAgICAgICAuc2V0Q2xhc3MoXCJtb2QtY3RhXCIpXHJcbiAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKFxyXG4gICAgICAgICAgICAgIFwiaHR0cHM6Ly9jb2xhYi5yZXNlYXJjaC5nb29nbGUuY29tL2RyaXZlLzFDT2JlaGFuNWdtWU8tVHZ5eVlxOTczYTNoLV9FWXI5Xz91c3A9c2hhcmluZ1wiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZShcIjMuIENvbmZpZ3VyZSB0aGUgc2tlbGV0b24uXCIpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgIFwiUnVuICdweXRob24zIC1tIHBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQnIGluICcub2JzaWRpYW4vcGx1Z2lucy9EdWFsL3NrZWxldG9uLycuXCJcclxuICAgICAgKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoXCI0LiBSdW4gdGhlIHNrZWxldG9uIGFmdGVyIHlvdSBjb25maWd1cmVkIHRoZSBlc3NlbmNlLlwiKVxyXG4gICAgICAuc2V0RGVzYyhcclxuICAgICAgICBcIlJ1biAncHl0aG9uMyBzZXJ2ZXIucHkgLS1wYXRoIC9wYXRoL3RvL3lvdXIvdmF1bHQvJyBpbiAnLm9ic2lkaWFuL3BsdWdpbnMvRHVhbC9za2VsZXRvbi8nLlwiXHJcbiAgICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKFwiNS4gUmVzdGFydCBPYnNpZGlhbi5cIilcclxuICAgICAgLnNldERlc2MoXCJIZWFkIG92ZXIgdG8gdGhlIHJpZ2h0IHNpZGUgcGFuZWwgdG8gdGFsayB3aXRoIHlvdXIgRHVhbCFcIik7XHJcblxyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7XHJcbiAgICAgIHRleHQ6IFwiQ29uZ3JhdHVsYXRpb25zIG9uIHNldHRpbmcgdXAgeW91ciBEdWFsIVwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIG5hbWVcIilcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgXCJDdXN0b21pemUgeW91ciBEdWFsJ3MgbmFtZSB1c2luZyB0aGUgaW5wdXQgYm94LiBSZWxvYWQgT2JzaWRpYW4gZm9yIHRoaXMgdG8gdGFrZSBlZmZlY3QuXCJcclxuICAgICAgKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT5cclxuICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJEdWFsXCIpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoXCJcIilcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKFwiR2V0IGludm9sdmVkIVwiKVxyXG4gICAgICAuYWRkQnV0dG9uKChjYikgPT5cclxuICAgICAgICBjYlxyXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJSZXBvcnQgYnVnc1wiKVxyXG4gICAgICAgICAgLnNldENsYXNzKFwibW9kLWN0YVwiKVxyXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vZ2l0aHViLmNvbS9Qc2lvbmljYS9EdWFsL2lzc3Vlc1wiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICAgLmFkZEJ1dHRvbigoY2IpID0+XHJcbiAgICAgICAgY2JcclxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiSm9pbiBQc2lvbmljYVwiKVxyXG4gICAgICAgICAgLnNldENsYXNzKFwibW9kLWN0YVwiKVxyXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihcImh0dHBzOi8vcHNpb25pY2Eub3JnL1wiKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJJdGVtVmlldyIsIlBsdWdpbiIsIlBsdWdpblNldHRpbmdUYWIiLCJTZXR0aW5nIiwiTm90aWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdURBO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUNuRyxRQUFRLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUN0RyxRQUFRLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBRTtBQUN0SCxRQUFRLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMs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
